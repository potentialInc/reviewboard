{
  "version": "1.0",
  "description": "Maps tech stacks to templates, detection signals, and default commands",
  "stacks": {
    "nextjs": {
      "detect_files": ["next.config.js", "next.config.mjs", "next.config.ts"],
      "detect_deps": ["next"],
      "template": "templates/nextjs/init.md",
      "language": "typescript",
      "layer_map": {
        "types": "src/types/",
        "config": "src/config/",
        "repo": "src/lib/",
        "service": "src/services/",
        "runtime": "src/app/",
        "ui": "src/components/"
      },
      "commands": {
        "dev": "npm run dev",
        "test": "npx vitest run",
        "build": "npm run build",
        "lint": "npm run lint"
      }
    },
    "fastapi": {
      "detect_files": ["app/main.py"],
      "detect_deps": ["fastapi"],
      "template": "templates/fastapi/init.md",
      "language": "python",
      "layer_map": {
        "types": "app/schemas/",
        "config": "app/config/",
        "repo": "app/repositories/",
        "service": "app/services/",
        "runtime": "app/api/",
        "ui": null
      },
      "commands": {
        "dev": "uvicorn app.main:app --reload",
        "test": "pytest",
        "build": "docker build -t app .",
        "lint": "ruff check ."
      }
    },
    "django": {
      "detect_files": ["manage.py"],
      "detect_deps": ["django", "Django"],
      "template": "templates/django/init.md",
      "language": "python",
      "layer_map": {
        "types": "*/models.py",
        "config": "*/settings.py",
        "repo": "*/managers.py",
        "service": "*/services.py",
        "runtime": "*/urls.py",
        "ui": "*/templates/"
      },
      "commands": {
        "dev": "python manage.py runserver",
        "test": "python manage.py test",
        "build": "docker build -t app .",
        "lint": "ruff check ."
      }
    },
    "react-vite": {
      "detect_files": ["vite.config.ts", "vite.config.js"],
      "detect_deps": ["react", "vite"],
      "template": "templates/react-vite/init.md",
      "language": "typescript",
      "layer_map": {
        "types": "src/types/",
        "config": "src/config/",
        "repo": "src/api/",
        "service": "src/services/",
        "runtime": "src/main.tsx",
        "ui": "src/components/"
      },
      "commands": {
        "dev": "npm run dev",
        "test": "npx vitest run",
        "build": "npm run build",
        "lint": "npm run lint"
      }
    },
    "go-api": {
      "detect_files": ["go.mod"],
      "detect_deps": [],
      "template": "templates/go-api/init.md",
      "language": "go",
      "layer_map": {
        "types": "internal/types/",
        "config": "internal/config/",
        "repo": "internal/repo/",
        "service": "internal/service/",
        "runtime": "cmd/",
        "ui": null
      },
      "commands": {
        "dev": "go run cmd/main.go",
        "test": "go test ./...",
        "build": "go build -o bin/app cmd/main.go",
        "lint": "golangci-lint run"
      }
    },
    "rust-axum": {
      "detect_files": ["Cargo.toml"],
      "detect_deps": ["axum"],
      "template": "templates/rust-axum/init.md",
      "language": "rust",
      "layer_map": {
        "types": "src/types/",
        "config": "src/config/",
        "repo": "src/repo/",
        "service": "src/service/",
        "runtime": "src/main.rs",
        "ui": null
      },
      "commands": {
        "dev": "cargo watch -x run",
        "test": "cargo test",
        "build": "cargo build --release",
        "lint": "cargo clippy"
      }
    },
    "expo": {
      "detect_files": ["app.json", "app.config.js"],
      "detect_deps": ["expo"],
      "template": "templates/mobile-expo/init.md",
      "language": "typescript",
      "layer_map": {
        "types": "src/types/",
        "config": "src/config/",
        "repo": "src/api/",
        "service": "src/services/",
        "runtime": "app/",
        "ui": "src/components/"
      },
      "commands": {
        "dev": "npx expo start",
        "test": "npx jest",
        "build": "eas build",
        "lint": "npm run lint"
      }
    },
    "monorepo": {
      "detect_files": ["turbo.json", "nx.json", "pnpm-workspace.yaml"],
      "detect_deps": ["turbo", "nx"],
      "template": "templates/monorepo/init.md",
      "language": "typescript",
      "layer_map": {
        "types": "packages/types/",
        "config": "packages/config/",
        "repo": "packages/repo/",
        "service": "apps/api/",
        "runtime": "apps/api/",
        "ui": "apps/web/"
      },
      "commands": {
        "dev": "turbo dev",
        "test": "turbo test",
        "build": "turbo build",
        "lint": "turbo lint"
      }
    },
    "generic": {
      "detect_files": [],
      "detect_deps": [],
      "template": "templates/generic/init.md",
      "language": "unknown",
      "layer_map": {
        "types": "src/types/",
        "config": "src/config/",
        "repo": "src/repo/",
        "service": "src/service/",
        "runtime": "src/runtime/",
        "ui": "src/ui/"
      },
      "commands": {
        "dev": "",
        "test": "",
        "build": "",
        "lint": ""
      }
    }
  }
}
